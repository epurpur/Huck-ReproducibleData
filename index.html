<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<title>Test Presentation</title>

		<link rel="stylesheet" href="dist/reset.css">
		<link rel="stylesheet" href="dist/reveal.css">
		<link rel="stylesheet" href="dist/theme/black.css">

		<!-- Theme used for syntax highlighted code -->
		<link rel="stylesheet" href="plugin/highlight/monokai.css">

		<!-- Custom styles used to override reveal.css -->
		<link rel="stylesheet" href="dist/styles.css">

		<!-- Google Fonts -->
		<link rel="preconnect" href="https://fonts.googleapis.com">
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
		<link href="https://fonts.googleapis.com/css2?family=Space+Mono&display=swap" rel="stylesheet">	</head>
	
	<body>
		<div class="reveal">
			<div class="slides">
				<section id="intro">
					<h3>Organize Your Files and Metadata for Transparent and Reproducible Research</h3>
					<p>Jenn Huck</p>
					<p>UVA Library</p>
					<p>Fall 2021</p>
				</section>

				<section>
					<h3>Introduction: A Bad Example</h3>
					<img class="r-frame" width="600" height="500" data-src="public/images/screenshot1.png" alt="example spreadsheet">
				</section>

				<section>
					<h3>We Can Do Better!</h3>
					<ol>
						<li> Project file organization </li>
						<li> Readme </li>
						<li> Descriptive and "friendly" file names </li>
					</ol>
				</section>

				<section id="projectManagement">
					<h3>Project Management</h3>
					<img class="r-frame" width="800" height="450" data-src="public/images/screenshot2.png" alt="Project Management diagram">
					<p class="imageSubtext">Image: https://reproducible-science-curriculum.github.io/</p>
				</section>

				<section>
					<h3><span>project</span> directory</h3>
					<ul>
						<li> This is the top-level directory </li>
						<li> All files related to a project live in this one directory </li>
						<li> Give the <span>project</span> directory a meaningful name related to your research </li>
					</ul>
				</section>

				<section id="codeSubDirectory">
					<h3><span>code</span> sub-directory</h3>
					<ul>
						<li> Separate code into its own directory </li>
						<li> Other common names for this directory: </li>
						<ul>
							<li><span> Scripts </span></li>
							<li><span> Source </span>or<span> src </span></li>
							<li><span> Command_files </span></li>
							<li><span> R </span></li>
						</ul>
						<li> Depending on the complexity of your project, you might want to separate:
						<ul>
							<li><span> Analysis code </span></li>
							<li><span> Function definitions </span></li>
						</ul>
					</ul>
				</section>

				<section>
					<h3><span>data</span> sub-directory</h3>
					<ul> 
						<li>You must identify which data files are: </li>
						<ul>
							<li> Original (aka raw aka source) data </li>
							<ul>
								<li><span> Treat as read-only! </span></li>
							</ul>
							<li> Modified: either programmatically or manually edited </li>
							<ul>
								<li><span> Treat as disposable </span></li>
							</ul>
						</ul>
					</ul>
				</section>

				<section>
					<h3><span>output</span> sub-directory</h3>
					<p>Contains files generated from other files</p>
					<p>Examples include:</p>
					<ul>
						<li>Plots</li>
						<li>Tables</li>
					</ul>
				</section>

				<section>
					<h3><span>documents</span> or <span>reports</span> sub-directory</h3>
					<ul>
						<li> Lastly, you need a place for your documents or reports - basically
						any textual report that you might write in relation to the project </li>
						<li> Keep in mind these are outwardly facing files (for an advisor, academic
						readers, clients, etc.). Keep this separate from your data and code, as those
						are internally facing work files </li>
					</ul>
				</section>

				<section>
					<h3>Key Points</h3>
					<ul>
						<li> Distinguish between file types </li>
						<li> Record modifications </li>
						<li> More art than science </li>
					</ul>
				</section>

				<section>
					<h3>Identifying Output Files</h3>
					<img class="r-frame" width="800" height="450" data-src="public/images/screenshot3.png" alt="Project Management diagram">
					<p class="imageSubtext">Image: https://reproducible-science-curriculum.github.io/</p>
				</section>

				<section>
					<h3>More examples...</h3>
					<img class="r-frame" width="850" height="400" data-src="public/images/screenshot4.png" alt="working directory workflow">
					<p class="imageSubtext">Image: https://datacarpentry.org/r-socialsci/00-intro/index.html</p>
				</section>

				<section>
					<h3>A more complex example</h3>
					<img class="r-frame" width="800" height="400" data-src="public/images/screenshot5.png" alt="more complex project folder structure">
					<p class="imageSubtext">Image: Ties de Kok: https://towardsdatascience.com/how-to-keep-your-research-projects-organized-part-1-folder-structure-10bd56034d3a</p>
				</section>

				<section>
					<h3>Automate your folder structure</h3>
					<img class="r-frame" width="500" height="500" data-src="public/images/screenshot6.png" alt="automate your folder structure with github">
					<p class="imageSubtext">Image: https://github.com/Reproducible-Science-Curriculum/rr-init </p>
				</section>
			
				<section>
					<h3>Project Organization</h3>
					<ul>
						<li>Good. <span>Separate input and code from output using different folders or file names and keep track of all the 
						input -> output changes in separate files</span></li>
						<li>Better. <span>Consistent folder structure across projects. Read-only raw data</span></li>
						<li>Best. <span>Script to generate folder structures, version control READMEs and scripts to track modifications</span></li>
					</ul>
				</section>

				<section>
					<p>Build out a project structure with explorer/finder</p>
					<p>and then visit bit.ly/org4repro</p>
				</section>

				<section>
					<h3>README</h3>
					<p>Just a little bit of documentation</p>
				</section>	

				<section id='readmeFile'>
					<h3><span class='readmeSpan'>README</span> file</p></h3>
					<ul>
						<li>A <span class='readmeSpan'>README</span> gives users important information about a project</li>
						<li>Should be in plain text format (either plain text/.txt or Markdown/.md)</li>
						<p>Useful <span class='readmeSpan'>README</span> file content:</p>
						<ol>
							<li>Project Name</li>
							<li>Useful dates (date project began, date last updated)</li>
							<li>Author names and contact info</li>
							<li>Origin of data</li>
							<li>3-4 sentences about the goal of the project</li>
							<li>Dependencies / How to install / Project structure</li>
						</ol>
					</ul>
				</section>

				<section>
					<img class="r-frame" width="800" height="650" data-src="public/images/screenshot7.png" alt="readme screenshot">
				</section>

				<section>
					<h3>README: Good, Better, Best</h3>
					<ul>
						<li>Good. <span>Plain text</span></li>
						<li>Better. <span>Date, name, contact info, short summary, Markdown</span></li>
						<li>Best. <span>Include history of all changes to the project</span></li>
					</ul>
				</section>

				<section>
					<h3>Naming Files</h3>
				</section>

				<section>
					<h3>Names Matter</h3>
					<p>Three principles for file names</p>
					<ul>
						<li>Human readable</li>
						<li>Machine readable</li>
						<li>Plays well with default ordering</li>
					</ul>
				</section>

				<section>
					<h3>Human readable</h3>
					<ul>
						<li>Names indicate content</li>
						<ul>
							<li>01_data-cleaning.R</li>
							<li>02_visualization.R</li>
						</ul>
						<li>Vs</li>
						<ul>
							<li>01.R</li>
							<li>02.R</li>
						</ul>
						<li>Easy to figure out based on the name</li>
					</ul>
				</section>
				
				<section>
					<h3>Naming conventions: Use names to convey order</h3>
					<img class="r-frame" width="600" height="500" data-src="public/images/screenshot8.png" alt="screenshot - use names to convery file order">
				</section>

				<section>
					<h3>Naming conventions: Use names to convey history</h3>
					<img class="r-frame" width="600" height="500" data-src="public/images/screenshot9.png" alt="screenshot - use names to convery file history">
				</section>

				<section id="machineReadability">
					<h3>Machine Readable</h3>
					<ul>
						<li>Make it easy to search for files later</li>
						<ul>
							<li>Via regex or through your operating system's search functionality</li>
						</ul>
						<li>Avoid these in file names:</li>
						<ul>
							<li>Spaces</li>
							<li>Punctuation <span>except</span> "-" and "_"</li>
							<li>Accented characters</li>
						</ul>
						<li>Do use:</li>
						<ul>
							<li>A consistent capitalization scheme, i.e., don't include the names foo and Foo in the same project</li>
							<li>Seperate units of metadata with "_" -- use it as a delimiter for regex</li>
							<li>Use "-" within units of metadata for easier human readability</li>
						</ul>
					</ul>
				</section>

				<section>
					<h3>Example of advanced technique: "globbing"</h3>
					<img class="r-frame" width="600" height="450" data-src="public/images/screenshot10.png" alt="globbing screenshot">
					<p class="imageSubtext">Jenny Bryan https://speakerdeck.com/jennybc/how-to-name-files?slide=7</p>
				</section>

				<section>
					<h3>Example of advanced technique: recover metadata</h3>
					<img class="r-frame" width="600" height="450" data-src="public/images/screenshot11.png" alt="recover metadata screenshot">
					<p class="imageSubtext">Jenny Bryan https://speakerdeck.com/jennybc/how-to-name-files?slide=10</p>
				</section>

				<section>
					<h3>Plays well with default ordering</h3>
					<p>This means that when you look at project files in your directory, the files undergo default ordering in the display</p>
					<ul>
						<li>Put numeric info first</li>
						<li>Logical order: Left pad numbers with zeros</li>
						<li>Chronological order: Use data format: YYYY-MM-DD</li>
					</ul>
				</section>

				<section>
					<h3>Default ordering: Left pad numbers with zeros</h3>
					<p>Like so:</p>
					<ul>
						<li>01_cleaning.R</li>
						<li>02_visualization.R</li>
						<li>10_final-figures.R</li>
					</ul>
					<p>If you don't, it might lead to this:</p>
					<ul>
						<li>10_final-figures.R</li>
						<li>1_cleaning.R</li>
						<li>2_visualization.R</li>
					</ul>
				</section>

				<section id="defaultOrdering">
					<h3>Default ordering: ISO 8601 date standard</h3>
					<p>Use YYY-MM-DD. Leads to far less confusion among humans. Machines will always interpret this correctly. 
					Default ordering will work correctly every time.</p>
					<div class='sideBySide'>
						<div>
							<p>Yes</p>
							<img class="r-frame" width="400" height="300" data-src="public/images/screenshot12.png" alt="correct date standard naming schema">
						</div>
						<div>
							<p>No</p>
							<img class="r-frame" width="400" height="300" data-src="public/images/screenshot13.png" alt="incorrect date standard naming schema">
						<div>
					</div>
				</section>

				<section id='fileNames'>
					<h3>File names: Good, better, best</h3>
					<ul>
						<li>Good. <span>Use descriptive file/directory names that convey function and history</span></li>
						<li>Better. <span>ISO 8601 date stamps in file and directory names. Use number (with left padding) to indicate order of scripts</span></li>
						<li>Best. <span>Separate units of metadata with "_" (underscore) for regex. Within units of metadata, use "-" (hyphen or dash) for human readability</span></li>
					</ul>
				</section>

				<section>
					<img class="r-frame" width="650" height="650" data-src="public/images/screenshot14.png" alt="good file naming schema example">
				</section>

				<section>
					<h3>One more example, with named files</h3>
					<img class="r-frame" width="950" height="550" data-src="public/images/screenshot15.png" alt="named file scheme example">
				</section>

				<section>
					<h3>In sum, good project organization and file names...</h3>
					<ul>
						<li>Are easy to implement now</li>
						<li>Payoff: the more complicated your project goals get and the better your skills become...</li>
						<ul>
							<li>File Names: if you do find yourself needing to use regex to call files</li>
							<li>Project organization: reflects what you need to do anyway when compiling R packages</li>
						</ul>
						<li>Make your life easier!</li>
					</ul>
				</section>

				<section>
					<h3>Acknowledgements</h3>
					<p>Much of the Project Organization and README material has been adapted from: Reproducible Science Curriculum: Data & Project Organization
					<a href="https://reproducible-science-curriculum.github.io/organization-RR-Jupyter/" target="_blank" class="link">https://reproducible-science-curriculum.github.io/organization-RR-Jupyter/ </span></a>
					<p>Much of the file naming material has been adapted from: Jenny Bryan. How to Name files
					<a href="https://speakerdeck.com/jennybc/how-to-name-files" target="_blank" class="link">https://speakerdeck.com/jennybc/how-to-name-files</a></p>
				</section>

				<section id="furtherReferences">
					<h3>Further References</h3>
					<p>Project TIER.  TIER Protocol 3.0.<a href="ttps://www.projecttier.org/tier-protocol/specifications-3-0/" target="_blank" class="link">https://www.projecttier.org/tier-protocol/specifications-3-0/</a></p>
					<p>Data Carpentry.  R for Social Scientists: Before We Start.<a href="https://datacarpentry.org/r-socialsci/00-intro/index.html" target="_blank" class="link">https://datacarpentry.org/r-socialsci/00-intro/index.html</a> File Organization: 
					<a href="https://datacarpentry.org/rr-organization1/" target="_blank" class="link">https://datacarpentry.org/rr-organization1/</a> Reproducible Research in R Workshop Overview <a href="https://datacarpentry.org/rr-workshop/" target="_blank" class="link">https://datacarpentry.org/rr-workshop/</a></p>
					<p>Dryad. Best Practices for creating reusable data publications: Organize files in a logical schema<a href="https://datadryad.org/stash/best_practices#organize" target="_blank" class="link">https://datadryad.org/stash/best_practices#organize</a></p>
					<p>Martin Chan. 2020. "RStudio Projects and Working Directories: A Beginner's Guide."  Musings on R.<a href="https://martinctc.github.io/blog/rstudio-projects-and-working-directories-a-beginner's-guide/" target="_blank" class="link">https://martinctc.github.io/blog/rstudio-projects-and-working-directories-a-beginner's-guide/</a></p>
					<p>Leon Jessen.  2018.<a href="https://twitter.com/jessenleon/status/964236119658418176" target="_blank" class="link">https://twitter.com/jessenleon/status/964236119658418176</a> and How to organize a project: The most important talk you never heard! <a href="https://github.com/leonjessen/talks" target="_blank" class="link">https://github.com/leonjessen/talks</a></p>
					<p>Ties de Kok.  How to keep your research projects organized, part 1: folder structure. <a href="https://towardsdatascience.com/how-to-keep-your-research-projects-organized-part-1-folder-structure-10bd56034d3a " target="_blank" class="link">https://towardsdatascience.com/how-to-keep-your-research-projects-organized-part-1-folder-structure-10bd56034d3a</a></p>
					<p>"Good enough practices in scientific computing." PLOS Computational Biology. 2017. <a href="https://journals.plos.org/ploscompbiol/article?id=10.1371/journal.pcbi.1005510#pcbi.1005510.ref001" target="_blank" class="link">https://journals.plos.org/ploscompbiol/article?id=10.1371/journal.pcbi.1005510#pcbi.1005510.ref001</a></p>
					<p>Noble, W. S. "A Quick Guide to Organizing Computational Biology Projects." PLOS Computational Biology. 2009<a href="https://journals.plos.org/ploscompbiol/article?id=10.1371/journal.pcbi.1000424" target="_blank" class="link">https://journals.plos.org/ploscompbiol/article?id=10.1371/journal.pcbi.1000424</a></p>
					<p>Jenny Bryan. How to name files.<a href="https://speakerdeck.com/jennybc/how-to-name-files " target="_blank" class="link">https://speakerdeck.com/jennybc/how-to-name-files</a></p>
					<p>Rich Fitzjohn.  Designing Projects.<a href="https://nicercode.github.io/blog/2013-04-05-projects/" target="_blank" class="link">https://nicercode.github.io/blog/2013-04-05-projects/</a></p>
					<p>Chris Von Csefalvay. Structuring R Projects.<a href=" https://chrisvoncsefalvay.com/2018/08/09/structuring-r-projects/" target="_blank" class="link"> https://chrisvoncsefalvay.com/2018/08/09/structuring-r-projects/</a>(Note: best source for more complicated, data science projects.)</p>
					<p>Krista L. DeStasio. R Best Practices.<a href="https://kdestasio.github.io/post/r_best_practices/#fn1" target="_blank" class="link">https://kdestasio.github.io/post/r_best_practices/#fn1</a></p>
				</section>

				<section>
					<h3>Project Organization in sum</h3>
					<ul>
						<li>Organize files and folders to reflect their function</li>
						<li>Use README files as metadata to provie more info about your work</li>
						<li>Never over-write raw data</li>
						<li>Keep records of modifications that you have made to data, ideally in fhe form of scripts</li>
					</ul>
				</section>

			</div>
		</div>

		<script src="dist/reveal.js"></script>
		<script src="plugin/notes/notes.js"></script>
		<script src="plugin/markdown/markdown.js"></script>
		<script src="plugin/highlight/highlight.js"></script>
		<script>
			// More info about initialization & config:
			// - https://revealjs.com/initialization/
			// - https://revealjs.com/config/
			Reveal.initialize({
				hash: true,
				slideNumber: true,
				// Learn about plugins: https://revealjs.com/plugins/
				plugins: [ RevealMarkdown, RevealHighlight, RevealNotes ]
			});
		</script>
	</body>
</html>
